@import "variables"

.nowPlayingBar
  position: fixed
  bottom: 1.5rem
  left: 50%
  transform: translateX(-50%)
  width: calc(100vw - 3rem)
  z-index: 5
  background: rgba(24, 24, 24, 0.4)
  backdrop-filter: blur(24px) saturate(1.8)
  border-radius: 1rem
  border: 1px solid rgba(0, 0, 0, .2)

  .nowPlayingBarWrapper
    position: relative
    display: flex
    justify-content: space-between
    align-items: center
    width: 100%
    height: 100px
    padding: 0 1rem

    .track
      display: flex
      align-items: center
      column-gap: 1rem
      min-width: 180px
      width: 30%

      .trackImage
        min-width: calc(100px - 2rem)
        width: calc(100px - 2rem)
        height: calc(100px - 2rem)
        overflow: hidden
        border-radius: 4px

        img
          width: 100%
          height: auto
          object-fit: cover

      .trackInfo
        display: flex
        flex-direction: column
        justify-content: center
        max-width: calc(100% - (100px))

        .trackName,
        .trackArtist
          font-weight: 400

          a
            cursor: pointer
            color: #fff
            font-family: $quaternaryFont
            display: block
            overflow: hidden
            white-space: nowrap
            text-overflow: ellipsis

            &:hover
              text-decoration: underline
              opacity: 1

        .trackName
          font-size: 1rem
          display: flex
          align-items: center
          column-gap: .5rem
          z-index: 2

          .trackLike
            background: none
            border: none
            cursor: pointer

            &:hover
              transform: scale(1.1)

            &:active
              transform: scale(1)

            svg
              width: 1.25rem
              height: 1.25rem

        .trackArtist
          font-size: .9rem

          a
            opacity: .7

    .trackControls
      display: flex
      align-items: center
      flex-direction: column
      row-gap: .75rem
      width: 40%
      max-width: 722px

      .buttons
        display: flex
        align-items: center
        gap: 1rem
        margin-top: .5rem

        button
          background: none
          display: flex
          justify-content: center
          align-items: center
          cursor: pointer
          border-radius: 50%
          border: none
          transition: background-color .1s ease-out

          svg
            width: 1rem
            height: 1rem
            opacity: .7
            transition: opacity .1s ease-out

          &:hover
            background-color: rgba(255, 255, 255, .06)

            svg
              opacity: .9

          &:active
            transform: scale(.9)

          &.repeat,
          &.shuffle
            width: 2rem
            height: 2rem

            svg
              opacity: .5

            &:hover svg
              opacity: .7

          &.prevTrack,
          &.nextTrack
            width: 2.5rem
            height: 2.5rem

            svg
              opacity: .5

            &:hover svg
              opacity: .7

          &.play
            width: 2.5rem
            height: 2.5rem
            background-color: transparent
            border: 1px solid rgba(255, 255, 255, .4)
            border-radius: 50%
            transition-property: border-color, background-color

            &:hover
              background-color: rgba(255, 255, 255, .08)

      .trackTimeline
        width: 100%
        display: flex
        align-items: center
        column-gap: .5rem
        margin-top: .5rem

        .timeText
          color: #939393
          font-size: .8rem
          font-weight: 400
          font-family: $primaryFont

          &:first-child
            text-align: right

          &:last-child
            text-align: left

        .progressBarWrapper
          width: 100%
          height: 12px
          cursor: pointer
          display: flex
          align-items: center

          &:hover
            .progressBar
              .progress
                background-color: $accentColor

          .progressBar
            width: 100%
            height: 3px
            background: rgba(255, 255, 255, .2)
            border-radius: 2px

            .progress
              width: 50%
              height: 100%
              background-color: #fff
              border-radius: 2px
              position: relative

              .button
                width: 12px
                height: 12px
                background-color: #fff
                border-radius: 50%
                position: absolute
                right: 0
                top: 50%
                transform: translate(50%, -50%)

    .otherControls
      display: flex
      justify-content: flex-end
      align-items: center
      column-gap: .5rem
      min-width: 180px
      width: 30%

      .buttons
        display: flex
        align-items: center
        column-gap: .25rem

        .button
          width: 2.5rem
          height: 2.5rem
          display: flex
          justify-content: center
          align-items: center
          background-color: transparent
          border: none
          border-radius: 50%
          cursor: pointer
          transition: background-color .1s ease-out

          &:hover
            background-color: rgba(255, 255, 255, .05)

          &:active
            transform: scale(.9)

          svg
            width: 1.5rem
            height: 1.5rem
            opacity: .7

      .separator
        width: 1px
        height: 48px
        background-color: #3b3b3b

      .queue
        display: flex
        align-items: center
        gap: .5rem
        cursor: pointer
        background-color: transparent
        padding: .5rem
        border-radius: 8px

        &:hover
          background-color: rgba(255, 255, 255, .05)

        &:active
          background-color: rgba(255, 255, 255, .15)

        .queueImage
          width: 32px
          height: 32px
          border-radius: 4px
          overflow: hidden

          img
            width: 100%
            height: auto
            object-fit: cover

        .queueText
          font-weight: 400
          font-family: $tertiaryFont
          color: rgba(255, 255, 255, 0.7)

    .layoutResizer
      position: absolute
      top: .75rem
      height: calc(100px - 1.5rem)
      width: .75rem
      border-radius: .75rem
      cursor: col-resize
      transform: translateX(50%)

      &.left
        left: -.75rem

        &::after
          right: calc(.75rem / 2 - 1px)

      &.right
        right: 0

        &::after
          left: calc(.75rem / 2 - 1px)

      &::after
        content: ""
        position: absolute
        top: 0
        width: 2px
        height: calc(100px - 1.5rem)
        background-color: transparent
        transition: background-color .15s ease-out


      &:hover::after
        background-color: $accentColor