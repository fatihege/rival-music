@import "variables"

.albumCover
  position: fixed
  width: 250px
  height: 250px
  left: -250px
  bottom: calc(100px + 2.25rem)
  border-radius: 1rem
  overflow: hidden
  z-index: 3
  transition: .3s ease-in-out
  transition-property: left, right, bottom
  border: 1px solid rgba(255, 255, 255, .05)

  &.show
    left: 1.5rem
    box-shadow: 0 5px 15px 0 rgba(0, 0, 0, .5)

  &.lower
    bottom: 1.5rem

  &.right
    left: 100vw
    right: -250px

    &.show
      left: calc(100vw - 250px - 1.5rem)
      right: 1.5rem

  &:hover
    .overlay
      opacity: 1
      pointer-events: all

  img
    width: 100%
    height: auto

  .overlay
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    background-color: rgba(0, 0, 0, .4)
    backdrop-filter: blur(4px)
    display: flex
    justify-content: center
    align-items: center
    column-gap: .5rem
    padding: 1rem
    opacity: 0
    pointer-events: none
    transition: opacity .15s ease-out

    .button
      width: 2.5rem
      height: 2.5rem
      cursor: pointer
      border: none
      border-radius: 50%
      background-color: rgba(0, 0, 0, .2)
      transition: background-color .15s ease-out
      display: flex
      justify-content: center
      align-items: center

      &:hover
        background-color: rgba(0, 0, 0, .4)

      &:active
        transform: scale(.9)

      svg
        width: 1.5rem
        height: 1.5rem
        opacity: .7

.nowPlayingBar
  position: fixed
  bottom: 1.5rem
  left: 50%
  transform: translateX(-50%)
  width: calc(100vw - 3rem)
  z-index: 5
  background: rgba(24, 24, 24, 0.4)
  backdrop-filter: blur(84px) saturate(1.8)
  border-radius: 1rem
  border: 1px solid rgba(0, 0, 0, .1)

  .nowPlayingBarWrapper
    position: relative
    display: flex
    justify-content: space-between
    align-items: center
    width: 100%
    height: 100px
    padding: 0 1rem

    &.breakpoint
      .track
        width: 23%

      .trackControls
        width: 54%

      .otherControls
        width: 23%

    .track
      display: flex
      align-items: center
      column-gap: 1rem
      min-width: 100px
      width: 30%

      .trackImage
        min-width: calc(100px - 2rem)
        width: calc(100px - 2rem)
        height: calc(100px - 2rem)
        overflow: hidden
        border-radius: 8px
        position: relative
        transition: .2s ease-in-out
        transition-property: min-width, width, opacity
        border: 1px solid rgba(255, 255, 255, .02)

        &.hide
          width: 0
          min-width: 0
          opacity: 0
          pointer-events: none

        &:hover
          .overlay
            opacity: 1
            pointer-events: all

        img
          width: 100%
          height: 100%
          object-fit: cover

        .overlay
          width: 100%
          height: 100%
          position: absolute
          top: 0
          background-color: rgba(0, 0, 0, .4)
          backdrop-filter: blur(4px)
          display: flex
          justify-content: center
          align-items: center
          opacity: 0
          pointer-events: none
          transition: opacity .15s ease-out

          .hideButton
            width: 2.5rem
            height: 2.5rem
            border: none
            background-color: rgba(0, 0, 0, .07)
            border-radius: 50%
            display: flex
            justify-content: center
            align-items: center
            cursor: pointer
            transition: background-color .15s ease-out

            &:hover
              background-color: rgba(0, 0, 0, .2)

            &:active
              transform: scale(.9)

            svg
              width: 1.25rem
              height: 1.25rem
              opacity: .8

      .trackInfo
        display: flex
        flex-direction: column
        justify-content: center
        max-width: calc(100% - (100px))

        .trackName,
        .trackArtist
          font-weight: 400

          a
            cursor: pointer
            color: #fff
            font-family: $quaternaryFont
            display: block
            overflow: hidden
            white-space: nowrap
            text-overflow: ellipsis

            &:hover
              text-decoration: underline
              opacity: 1

        .trackName
          font-size: 1rem
          display: flex
          align-items: center
          column-gap: .5rem
          z-index: 2

          .trackLike
            background: none
            border: none
            cursor: pointer
            display: flex
            justify-content: center
            align-items: center
            border-radius: 50%

            &:hover
              transform: scale(1.1)

            &:active
              transform: scale(1)

            svg
              width: 1.25rem
              height: 1.25rem

        .trackArtist
          font-size: .9rem

          a
            opacity: .7
            width: max-content

    .trackControls
      display: flex
      align-items: center
      flex-direction: column
      row-gap: .75rem
      width: 40%
      max-width: 722px

      .buttons
        display: flex
        align-items: center
        gap: .75rem
        margin-top: .5rem

        button
          background: none
          display: flex
          justify-content: center
          align-items: center
          cursor: pointer
          border-radius: 50%
          border: none
          transition: background-color .1s ease-out

          svg
            width: 1rem
            height: 1rem
            opacity: .7
            transition: opacity .1s ease-out

          &:hover
            background-color: rgba(255, 255, 255, .06)

            svg
              opacity: .9

          &:active
            transform: scale(.9)

          &.repeat,
          &.shuffle
            width: 2rem
            height: 2rem

            svg
              width: 1.5rem
              height: 1.5rem
              opacity: .5

            &:hover svg
              opacity: .7

          &.prevTrack,
          &.nextTrack
            width: 2.5rem
            height: 2.5rem

            svg
              opacity: .5

            &:hover svg
              opacity: .7

          &.play
            width: 2.5rem
            height: 2.5rem
            background-color: rgba(255, 255, 255)
            box-shadow: 0 4px 10px 0 rgba(0, 0, 0, .1)
            border-radius: 50%
            transition-property: border-color, background-color

            svg
              opacity: 1

            &:hover
              transform: scale(1.05)

            &:active
              transform: scale(1)

    .otherControls
      display: flex
      justify-content: flex-end
      align-items: center
      column-gap: .5rem
      min-width: 150px
      width: 30%

      .buttons
        display: flex
        align-items: center

        .button
          width: 2.25rem
          height: 2.25rem
          display: flex
          justify-content: center
          align-items: center
          background-color: transparent
          border: none
          border-radius: 50%
          cursor: pointer
          transition: background-color .1s ease-out

          &:hover
            svg
              opacity: .9

          &:active
            transform: scale(.9)

          svg
            width: 1.5rem
            height: 1.5rem
            opacity: .7

      .separator
        width: 1px
        height: 48px
        background-color: rgba(255, 255, 255, 0.4)

      .queue
        display: flex
        align-items: center
        gap: .5rem
        cursor: pointer
        background-color: transparent
        padding: .5rem
        border-radius: .5rem

        &:hover
          background-color: rgba(255, 255, 255, .05)

        &:active
          background-color: rgba(255, 255, 255, .02)

        .queueImage
          width: 32px
          height: 32px
          border-radius: .25rem
          overflow: hidden
          border: 1px solid rgba(255, 255, 255, .05)
          display: flex
          justify-content: center
          align-items: center

          img
            width: 32px
            height: auto
            object-fit: contain

        .queueText
          font-weight: 400
          font-family: $tertiaryFont
          color: rgba(255, 255, 255, 0.7)

    .layoutResizer
      position: absolute
      top: .75rem
      height: calc(100px - 1.5rem)
      width: .75rem
      border-radius: .75rem
      cursor: col-resize
      transform: translateX(50%)

      &.left
        left: -.75rem

        &::after
          right: calc(.75rem / 2 - 1px)

      &.right
        right: 0

        &::after
          left: calc(.75rem / 2 - 1px)

      &::after
        content: ""
        position: absolute
        top: 0
        width: 2px
        height: calc(100px - 1.5rem)
        background-color: transparent
        transition: background-color .15s ease-out

      &:hover::after,
      &:active::after
        background-color: $accentColor